{"cells":[{"cell_type":"code","execution_count":null,"metadata":{"id":"Yg4-kW--wkTC"},"outputs":[],"source":["from googleapiclient.discovery import build\n","youtube = build('youtube', 'v3', developerKey = 'AIzaSyCeyLlQ3h2_PMbbi0slDHl2j6wCegl0dUM')"]},{"cell_type":"code","source":["from google.colab import drive\n","drive.mount('/content/drive')"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"8zgaHpLHwtwN","executionInfo":{"status":"ok","timestamp":1654313411366,"user_tz":-540,"elapsed":25701,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}},"outputId":"cabad8ba-0667-4bb1-b820-3566126e20f4"},"execution_count":2,"outputs":[{"output_type":"stream","name":"stdout","text":["Mounted at /content/drive\n"]}]},{"cell_type":"code","execution_count":4,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":1000},"id":"uZqfDdA9wkTP","executionInfo":{"status":"ok","timestamp":1654313497233,"user_tz":-540,"elapsed":2654,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}},"outputId":"2e6201ad-2c45-446a-f7e2-ce0b62bed4fa"},"outputs":[{"output_type":"display_data","data":{"text/plain":["                                                  title   channel_name  \\\n","0     한 번도 안본 사람은 있어도, 한 번만 본 사람은 없다는 레전드 꿀잼 드라마 [뷰티...             고몽   \n","1               240,300원→37,900원 (84%할인) 🎁 뷰마 찐템 박스 공개!          뷰티마우스   \n","2     요즘 잘 나가는 프로필 메이크업은 이렇게 합니다!ㅣ연예인 프로필 메이크업ㅣ역대급 콜...  옥뷰티 OK Beauty   \n","3                톱배우가 한 달에 한 번 잠적하는 이유 | 뷰티인사이드 1~4회 요약   DRAMA Voyage   \n","4     sub) 청담동 메이크업샵 추천템 그대로 구매해봄 2탄..! (지속력 좋은 파운데이...  뷰티숨BEAUTYSOOM   \n","...                                                 ...            ...   \n","6467  아줌마 브이로그 vlog, 주부의 일상,네일아트  Housewife&#39;s da...  양아치TV AUNT TV   \n","6469  [vlog] 미국 유학생 일상 브이로그 : 8 to 8 학교에서 사는 브이로그 | ...      예슬 Serena   \n","6470  [vlog] 미국 유학생 일상 브이로그 : 주말 브이로그 | 요리 해먹고 마트 가는...      예슬 Serena   \n","6471  I MADE A TINY HOUSE USING BUILDING *HACKS* ON ...       Tesla US   \n","6472  (eng)GRWM for School | 미국 미대생의 크리틱 하러가는 겟레디윗미(...      예슬 Serena   \n","\n","         views       subs          publish_time                channel_id  \\\n","0     804394.0  1960000.0  2022-05-21T01:00:10Z  UCpcft4FJXgUjnxWoQYsl7Ug   \n","1     199959.0   352000.0  2022-05-17T10:56:39Z  UCE7q5DzYcRYWObUNIpdO70A   \n","2      61394.0   159000.0  2022-05-18T09:06:01Z  UCnHpEWXz2Ehirkc3wuFfUfw   \n","3       7568.0   250000.0  2022-05-12T03:00:04Z  UCKuwp52MjSk-zeFRpchSheg   \n","4     193907.0   133000.0  2022-05-04T13:22:29Z  UCLyq1gz11P-IYFmP093JaAw   \n","...        ...        ...                   ...                       ...   \n","6467   93572.0   102000.0  2020-02-06T11:17:11Z  UCkko-Eorw_H_fNxkG2Zbjog   \n","6469    1208.0      522.0  2020-02-02T04:13:12Z  UC9C-r542vGv4qh0-_CD7jSQ   \n","6470     950.0      522.0  2020-02-13T12:00:07Z  UC9C-r542vGv4qh0-_CD7jSQ   \n","6471  162171.0  1070000.0  2020-02-07T01:09:32Z  UCJdm97nNlV8Xy0X5hmOEdtw   \n","6472     945.0      522.0  2020-02-22T22:00:07Z  UC9C-r542vGv4qh0-_CD7jSQ   \n","\n","         video_id  \n","0     pMUKLfMzp8g  \n","1     P4N-Nit1z4Q  \n","2     zoKQabWIRjY  \n","3     HLRKjsf_1mc  \n","4     m1HRv6Drh-Q  \n","...           ...  \n","6467  OpoISzaLbQQ  \n","6469  cWfQ3WIfuSA  \n","6470  YB6JBLLgxFY  \n","6471  pwqLQRRZjoo  \n","6472  boPdag_JGw0  \n","\n","[26742 rows x 7 columns]"],"text/html":["\n","  <div id=\"df-f8c4981d-c9b2-46da-8da5-2026d465a4a9\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>channel_name</th>\n","      <th>views</th>\n","      <th>subs</th>\n","      <th>publish_time</th>\n","      <th>channel_id</th>\n","      <th>video_id</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>한 번도 안본 사람은 있어도, 한 번만 본 사람은 없다는 레전드 꿀잼 드라마 [뷰티...</td>\n","      <td>고몽</td>\n","      <td>804394.0</td>\n","      <td>1960000.0</td>\n","      <td>2022-05-21T01:00:10Z</td>\n","      <td>UCpcft4FJXgUjnxWoQYsl7Ug</td>\n","      <td>pMUKLfMzp8g</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>240,300원→37,900원 (84%할인) 🎁 뷰마 찐템 박스 공개!</td>\n","      <td>뷰티마우스</td>\n","      <td>199959.0</td>\n","      <td>352000.0</td>\n","      <td>2022-05-17T10:56:39Z</td>\n","      <td>UCE7q5DzYcRYWObUNIpdO70A</td>\n","      <td>P4N-Nit1z4Q</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>요즘 잘 나가는 프로필 메이크업은 이렇게 합니다!ㅣ연예인 프로필 메이크업ㅣ역대급 콜...</td>\n","      <td>옥뷰티 OK Beauty</td>\n","      <td>61394.0</td>\n","      <td>159000.0</td>\n","      <td>2022-05-18T09:06:01Z</td>\n","      <td>UCnHpEWXz2Ehirkc3wuFfUfw</td>\n","      <td>zoKQabWIRjY</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>톱배우가 한 달에 한 번 잠적하는 이유 | 뷰티인사이드 1~4회 요약</td>\n","      <td>DRAMA Voyage</td>\n","      <td>7568.0</td>\n","      <td>250000.0</td>\n","      <td>2022-05-12T03:00:04Z</td>\n","      <td>UCKuwp52MjSk-zeFRpchSheg</td>\n","      <td>HLRKjsf_1mc</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>sub) 청담동 메이크업샵 추천템 그대로 구매해봄 2탄..! (지속력 좋은 파운데이...</td>\n","      <td>뷰티숨BEAUTYSOOM</td>\n","      <td>193907.0</td>\n","      <td>133000.0</td>\n","      <td>2022-05-04T13:22:29Z</td>\n","      <td>UCLyq1gz11P-IYFmP093JaAw</td>\n","      <td>m1HRv6Drh-Q</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>6467</th>\n","      <td>아줌마 브이로그 vlog, 주부의 일상,네일아트  Housewife&amp;#39;s da...</td>\n","      <td>양아치TV AUNT TV</td>\n","      <td>93572.0</td>\n","      <td>102000.0</td>\n","      <td>2020-02-06T11:17:11Z</td>\n","      <td>UCkko-Eorw_H_fNxkG2Zbjog</td>\n","      <td>OpoISzaLbQQ</td>\n","    </tr>\n","    <tr>\n","      <th>6469</th>\n","      <td>[vlog] 미국 유학생 일상 브이로그 : 8 to 8 학교에서 사는 브이로그 | ...</td>\n","      <td>예슬 Serena</td>\n","      <td>1208.0</td>\n","      <td>522.0</td>\n","      <td>2020-02-02T04:13:12Z</td>\n","      <td>UC9C-r542vGv4qh0-_CD7jSQ</td>\n","      <td>cWfQ3WIfuSA</td>\n","    </tr>\n","    <tr>\n","      <th>6470</th>\n","      <td>[vlog] 미국 유학생 일상 브이로그 : 주말 브이로그 | 요리 해먹고 마트 가는...</td>\n","      <td>예슬 Serena</td>\n","      <td>950.0</td>\n","      <td>522.0</td>\n","      <td>2020-02-13T12:00:07Z</td>\n","      <td>UC9C-r542vGv4qh0-_CD7jSQ</td>\n","      <td>YB6JBLLgxFY</td>\n","    </tr>\n","    <tr>\n","      <th>6471</th>\n","      <td>I MADE A TINY HOUSE USING BUILDING *HACKS* ON ...</td>\n","      <td>Tesla US</td>\n","      <td>162171.0</td>\n","      <td>1070000.0</td>\n","      <td>2020-02-07T01:09:32Z</td>\n","      <td>UCJdm97nNlV8Xy0X5hmOEdtw</td>\n","      <td>pwqLQRRZjoo</td>\n","    </tr>\n","    <tr>\n","      <th>6472</th>\n","      <td>(eng)GRWM for School | 미국 미대생의 크리틱 하러가는 겟레디윗미(...</td>\n","      <td>예슬 Serena</td>\n","      <td>945.0</td>\n","      <td>522.0</td>\n","      <td>2020-02-22T22:00:07Z</td>\n","      <td>UC9C-r542vGv4qh0-_CD7jSQ</td>\n","      <td>boPdag_JGw0</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>26742 rows × 7 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-f8c4981d-c9b2-46da-8da5-2026d465a4a9')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-f8c4981d-c9b2-46da-8da5-2026d465a4a9 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-f8c4981d-c9b2-46da-8da5-2026d465a4a9');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{}}],"source":["import pandas as pd\n","import numpy as np\n","df1 = pd.read_csv(\"/content/drive/Shareddrives/응머러러/beauty_data_moeum.csv\")\n","df2 = pd.read_csv(\"/content/drive/Shareddrives/응머러러/undong_data_moeum.csv\")\n","df3 = pd.read_csv(\"/content/drive/Shareddrives/응머러러/mukbang_data_moeum.csv\")\n","df4 = pd.read_csv(\"/content/drive/Shareddrives/응머러러/jisik_data_moeum.csv\")\n","df5 = pd.read_csv(\"/content/drive/Shareddrives/응머러러/vlog_data_moeum.csv\")\n","df = pd.concat([df1, df2, df3, df4, df5])\n","df = df.dropna(axis=0)\n","display(df)"]},{"cell_type":"code","execution_count":5,"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"OOgu4Ee5wkTS","executionInfo":{"status":"ok","timestamp":1654313539386,"user_tz":-540,"elapsed":287,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}},"outputId":"9ac25a7c-9f69-4b36-8fb4-8a79a2823823"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["title           0\n","channel_name    0\n","views           0\n","subs            0\n","publish_time    0\n","channel_id      0\n","video_id        0\n","dtype: int64"]},"metadata":{},"execution_count":5}],"source":["df.isna().sum()"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"tngdmI8MwkTV"},"outputs":[],"source":["df1=df[:300]"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"f-Rg2d-fwkTW","outputId":"c82dddb2-0b2c-417f-fabd-afe07bb5c470"},"outputs":[{"data":{"text/html":["<div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>channel_name</th>\n","      <th>views</th>\n","      <th>subs</th>\n","      <th>publish_time</th>\n","      <th>channel_id</th>\n","      <th>video_id</th>\n","      <th>like</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>한 번도 안본 사람은 있어도, 한 번만 본 사람은 없다는 레전드 꿀잼 드라마 [뷰티...</td>\n","      <td>고몽</td>\n","      <td>804394.0</td>\n","      <td>1960000.0</td>\n","      <td>2022-05-21T01:00:10Z</td>\n","      <td>UCpcft4FJXgUjnxWoQYsl7Ug</td>\n","      <td>pMUKLfMzp8g</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>240,300원→37,900원 (84%할인) 🎁 뷰마 찐템 박스 공개!</td>\n","      <td>뷰티마우스</td>\n","      <td>199959.0</td>\n","      <td>352000.0</td>\n","      <td>2022-05-17T10:56:39Z</td>\n","      <td>UCE7q5DzYcRYWObUNIpdO70A</td>\n","      <td>P4N-Nit1z4Q</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>요즘 잘 나가는 프로필 메이크업은 이렇게 합니다!ㅣ연예인 프로필 메이크업ㅣ역대급 콜...</td>\n","      <td>옥뷰티 OK Beauty</td>\n","      <td>61394.0</td>\n","      <td>159000.0</td>\n","      <td>2022-05-18T09:06:01Z</td>\n","      <td>UCnHpEWXz2Ehirkc3wuFfUfw</td>\n","      <td>zoKQabWIRjY</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>톱배우가 한 달에 한 번 잠적하는 이유 | 뷰티인사이드 1~4회 요약</td>\n","      <td>DRAMA Voyage</td>\n","      <td>7568.0</td>\n","      <td>250000.0</td>\n","      <td>2022-05-12T03:00:04Z</td>\n","      <td>UCKuwp52MjSk-zeFRpchSheg</td>\n","      <td>HLRKjsf_1mc</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>sub) 청담동 메이크업샵 추천템 그대로 구매해봄 2탄..! (지속력 좋은 파운데이...</td>\n","      <td>뷰티숨BEAUTYSOOM</td>\n","      <td>193907.0</td>\n","      <td>133000.0</td>\n","      <td>2022-05-04T13:22:29Z</td>\n","      <td>UCLyq1gz11P-IYFmP093JaAw</td>\n","      <td>m1HRv6Drh-Q</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>345</th>\n","      <td>[K-뷰티TV]실험과 실증으로 검증된 구증구포 흑삼추출물 모편안샴푸(비공개)</td>\n","      <td>K뷰티-TV FDA-TV</td>\n","      <td>15.0</td>\n","      <td>4300.0</td>\n","      <td>2022-04-27T17:17:52Z</td>\n","      <td>UCt1PAGbAedG8bfZWY6H5Ixw</td>\n","      <td>nMwiHHYWkXA</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>346</th>\n","      <td>근사한 천연 뷰티 팁 ll 일상 루틴 팁</td>\n","      <td>5분 Tricks DIY</td>\n","      <td>2729.0</td>\n","      <td>196000.0</td>\n","      <td>2022-05-14T06:00:07Z</td>\n","      <td>UCC-doNGXEByEzagvsQblFEw</td>\n","      <td>W8jvJCR-zXQ</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>347</th>\n","      <td>당신의 뷰티메이트 잠실점 OPEN ㅣ이벤트</td>\n","      <td>뷰티피티 Beauty P.T</td>\n","      <td>54.0</td>\n","      <td>3110.0</td>\n","      <td>2022-05-19T02:03:39Z</td>\n","      <td>UCfp5s3Oy-vJtZpqH7JF6Zlw</td>\n","      <td>w3_I8oGKihE</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>348</th>\n","      <td>뷰티피아 by jan&amp;#39;s 하트 괄사 잔스 제작 과정. 장인의 손길로 하나하나...</td>\n","      <td>뷰티피아잔스경락</td>\n","      <td>158.0</td>\n","      <td>1490.0</td>\n","      <td>2022-04-01T10:39:45Z</td>\n","      <td>UCi9JvwQM4IUjz3tMe8kL9Ug</td>\n","      <td>GReAW-6BXjw</td>\n","      <td>-1</td>\n","    </tr>\n","    <tr>\n","      <th>349</th>\n","      <td>Amazing hairstyle transformation AND BEAUTY TR...</td>\n","      <td>MAGA 12K</td>\n","      <td>6106.0</td>\n","      <td>40600.0</td>\n","      <td>2022-04-20T11:17:03Z</td>\n","      <td>UCWdp3srfVWl7U2NDacxQKQg</td>\n","      <td>tL3_HWWQ7Ic</td>\n","      <td>-1</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>300 rows × 8 columns</p>\n","</div>"],"text/plain":["                                                 title     channel_name  \\\n","0    한 번도 안본 사람은 있어도, 한 번만 본 사람은 없다는 레전드 꿀잼 드라마 [뷰티...               고몽   \n","1              240,300원→37,900원 (84%할인) 🎁 뷰마 찐템 박스 공개!            뷰티마우스   \n","2    요즘 잘 나가는 프로필 메이크업은 이렇게 합니다!ㅣ연예인 프로필 메이크업ㅣ역대급 콜...    옥뷰티 OK Beauty   \n","3               톱배우가 한 달에 한 번 잠적하는 이유 | 뷰티인사이드 1~4회 요약     DRAMA Voyage   \n","4    sub) 청담동 메이크업샵 추천템 그대로 구매해봄 2탄..! (지속력 좋은 파운데이...    뷰티숨BEAUTYSOOM   \n","..                                                 ...              ...   \n","345         [K-뷰티TV]실험과 실증으로 검증된 구증구포 흑삼추출물 모편안샴푸(비공개)    K뷰티-TV FDA-TV   \n","346                             근사한 천연 뷰티 팁 ll 일상 루틴 팁    5분 Tricks DIY   \n","347                            당신의 뷰티메이트 잠실점 OPEN ㅣ이벤트  뷰티피티 Beauty P.T   \n","348  뷰티피아 by jan&#39;s 하트 괄사 잔스 제작 과정. 장인의 손길로 하나하나...         뷰티피아잔스경락   \n","349  Amazing hairstyle transformation AND BEAUTY TR...         MAGA 12K   \n","\n","        views       subs          publish_time                channel_id  \\\n","0    804394.0  1960000.0  2022-05-21T01:00:10Z  UCpcft4FJXgUjnxWoQYsl7Ug   \n","1    199959.0   352000.0  2022-05-17T10:56:39Z  UCE7q5DzYcRYWObUNIpdO70A   \n","2     61394.0   159000.0  2022-05-18T09:06:01Z  UCnHpEWXz2Ehirkc3wuFfUfw   \n","3      7568.0   250000.0  2022-05-12T03:00:04Z  UCKuwp52MjSk-zeFRpchSheg   \n","4    193907.0   133000.0  2022-05-04T13:22:29Z  UCLyq1gz11P-IYFmP093JaAw   \n","..        ...        ...                   ...                       ...   \n","345      15.0     4300.0  2022-04-27T17:17:52Z  UCt1PAGbAedG8bfZWY6H5Ixw   \n","346    2729.0   196000.0  2022-05-14T06:00:07Z  UCC-doNGXEByEzagvsQblFEw   \n","347      54.0     3110.0  2022-05-19T02:03:39Z  UCfp5s3Oy-vJtZpqH7JF6Zlw   \n","348     158.0     1490.0  2022-04-01T10:39:45Z  UCi9JvwQM4IUjz3tMe8kL9Ug   \n","349    6106.0    40600.0  2022-04-20T11:17:03Z  UCWdp3srfVWl7U2NDacxQKQg   \n","\n","        video_id  like  \n","0    pMUKLfMzp8g    -1  \n","1    P4N-Nit1z4Q    -1  \n","2    zoKQabWIRjY    -1  \n","3    HLRKjsf_1mc    -1  \n","4    m1HRv6Drh-Q    -1  \n","..           ...   ...  \n","345  nMwiHHYWkXA    -1  \n","346  W8jvJCR-zXQ    -1  \n","347  w3_I8oGKihE    -1  \n","348  GReAW-6BXjw    -1  \n","349  tL3_HWWQ7Ic    -1  \n","\n","[300 rows x 8 columns]"]},"execution_count":15,"metadata":{},"output_type":"execute_result"}],"source":["df1"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"BGxgDkUnwkTX","outputId":"6b800c8a-c455-4b5c-9fce-a675a481af5e"},"outputs":[{"name":"stderr","output_type":"stream","text":["<ipython-input-14-ee7c169d7958>:1: SettingWithCopyWarning: \n","A value is trying to be set on a copy of a slice from a DataFrame.\n","Try using .loc[row_indexer,col_indexer] = value instead\n","\n","See the caveats in the documentation: https://pandas.pydata.org/pandas-docs/stable/user_guide/indexing.html#returning-a-view-versus-a-copy\n","  df1['like']=-1\n"]}],"source":["df1['like']=-1"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"gGSLaFHlwkTc"},"outputs":[],"source":["def calcuate_next_publish_time(time):\n","    if(time[5:7]=='01'):\n","        return '%04d-12-01T00:00:00Z'%(int(time[:4])-1)\n","    else:"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"avRfdqY9wkTf","outputId":"fe9bf94d-ac4f-4958-f363-7ac714ac6a22"},"outputs":[{"data":{"text/plain":["'2020-02-01T00:00:00Z'"]},"execution_count":899,"metadata":{},"output_type":"execute_result"}],"source":["calcuate_next_publish_time('2020-03-30T00:00:00Z')"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"RKLRKoJDwkTj"},"outputs":[],"source":["\n","df = pd.DataFrame(columns = ['title','channel_name','views','subs','publish_time','channel_id','video_id'])"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"muXnNBKnwkTl"},"outputs":[],"source":["# 수집 시작할 날짜를 이 형식으로 지정(수집하는 당일 날짜 혹은 이전에 수집한 데이터 중 가장 예전 값\n","\n","def get_youtube_vedio_search_list(keyword):    \n","    page_token = ''\n","    while(True):\n","    \t##API 호출\t\n","        search_response = youtube.search().list(\n","            \n","            type='video',\n","            maxResults = 50,       #한 번에 가져오는 데이터 수\n","            part = 'snippet, id',   \n","            q = keyword,\t\t#검색 키워드\n","            regionCode = 'KR',\t\t#지역. 한국은 KR\n","            pageToken = page_token,\n","            publishedBefore = '2020-03-30T00:00:00Z',\n","            publishedAfter = calcuate_next_publish_time('2020-03-30T00:00:00Z')\n","        ).execute()\n","        ##불러온 데이터 저장\n","        for item in search_response['items']:\n","            new_data = {'title':'not-yet','channel_name':'not-yet','video_id':'not-yet','views':'not-yet', 'subs':'not-yet', 'publish_time':'not-yet'}\n","            new_data['title'] = item['snippet']['title']\n","            new_data['channel_name'] = item['snippet']['channelTitle']\n","            new_data['video_id'] = item['id']['videoId']\n","            new_data['channel_id'] = item['snippet']['channelId']\n","\n","            new_data['publish_time'] = item['snippet']['publishTime']\n","            df.loc[len(df)] = new_data  ##df 2\n","        ###다음 페이지 토큰 찾기\n","        if ('nextPageToken' in search_response):\n","            page_token = search_response['nextPageToken']\n","        else:\n","            print('count : ', len(df)) ## df 1\n","            start_time = calcuate_next_publish_time(start_time)\n","            page_token=''"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"lksdQQZ1wkTo","outputId":"422711cf-2762-4f83-ac08-035ac6ec68f8"},"outputs":[{"name":"stdout","output_type":"stream","text":["count :  359\n"]},{"ename":"UnboundLocalError","evalue":"local variable 'start_time' referenced before assignment","output_type":"error","traceback":["\u001b[1;31m---------------------------------------------------------------------------\u001b[0m","\u001b[1;31mUnboundLocalError\u001b[0m                         Traceback (most recent call last)","\u001b[1;32m<ipython-input-902-3b245900b432>\u001b[0m in \u001b[0;36m<module>\u001b[1;34m\u001b[0m\n\u001b[1;32m----> 1\u001b[1;33m \u001b[0mget_youtube_vedio_search_list\u001b[0m\u001b[1;33m(\u001b[0m\u001b[1;34m'운동'\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0m","\u001b[1;32m<ipython-input-901-0aec30c2626e>\u001b[0m in \u001b[0;36mget_youtube_vedio_search_list\u001b[1;34m(keyword)\u001b[0m\n\u001b[0;32m     31\u001b[0m         \u001b[1;32melse\u001b[0m\u001b[1;33m:\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0;32m     32\u001b[0m             \u001b[0mprint\u001b[0m\u001b[1;33m(\u001b[0m\u001b[1;34m'count : '\u001b[0m\u001b[1;33m,\u001b[0m \u001b[0mlen\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mdf\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m)\u001b[0m \u001b[1;31m## df 1\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[1;32m---> 33\u001b[1;33m             \u001b[0mstart_time\u001b[0m \u001b[1;33m=\u001b[0m \u001b[0mcalcuate_next_publish_time\u001b[0m\u001b[1;33m(\u001b[0m\u001b[0mstart_time\u001b[0m\u001b[1;33m)\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n\u001b[0m\u001b[0;32m     34\u001b[0m             \u001b[0mpage_token\u001b[0m\u001b[1;33m=\u001b[0m\u001b[1;34m''\u001b[0m\u001b[1;33m\u001b[0m\u001b[1;33m\u001b[0m\u001b[0m\n","\u001b[1;31mUnboundLocalError\u001b[0m: local variable 'start_time' referenced before assignment"]}],"source":["get_youtube_vedio_search_list('운동')"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"-rvr-UldwkTp"},"outputs":[],"source":["for index in range(0, len(df)): ###\n","    response = youtube.videos().list(\n","        part = 'statistics', id = df.loc[index, 'video_id']).execute()  \n","    if len(response['items']) > 0:\n","        df.loc[index, 'views'] = response['items'][0]['statistics'].get('viewCount') \n","       "]},{"cell_type":"code","execution_count":null,"metadata":{"id":"TQsM5e4PwkTq"},"outputs":[],"source":["for index in range(0, len(df)): ###\n","    response = youtube.channels().list(\n","        part = 'statistics', id = df.loc[index, 'channel_id']).execute()\n","    if len(response['items']) > 0:\n","        df.loc[index, 'subs'] = response['items'][0]['statistics'].get('subscriberCount')"]},{"cell_type":"code","execution_count":8,"metadata":{"id":"pnYLdHJkwkTr","executionInfo":{"status":"ok","timestamp":1654313627530,"user_tz":-540,"elapsed":11,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}}},"outputs":[],"source":["#### like count way 2\n","id = \"https://www.youtube.com/watch?v=\"+df1['video_id']\n","df1['video_id'] = list(id)\n"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"0PtkQbMAwkTr","outputId":"97e08287-b149-4bc3-e6d8-566e3a63e630"},"outputs":[{"name":"stdout","output_type":"stream","text":["Requirement already satisfied: requests in c:\\users\\82107\\anaconda3\\lib\\site-packages (2.24.0)\n","Requirement already satisfied: certifi>=2017.4.17 in c:\\users\\82107\\anaconda3\\lib\\site-packages (from requests) (2020.6.20)Note: you may need to restart the kernel to use updated packages.\n","\n","Requirement already satisfied: chardet<4,>=3.0.2 in c:\\users\\82107\\anaconda3\\lib\\site-packages (from requests) (3.0.4)\n","Requirement already satisfied: urllib3!=1.25.0,!=1.25.1,<1.26,>=1.21.1 in c:\\users\\82107\\anaconda3\\lib\\site-packages (from requests) (1.25.11)\n","Requirement already satisfied: idna<3,>=2.5 in c:\\users\\82107\\anaconda3\\lib\\site-packages (from requests) (2.10)\n"]}],"source":["pip install requests"]},{"cell_type":"code","execution_count":10,"metadata":{"colab":{"base_uri":"https://localhost:8080/","height":817},"id":"11qst2pbwkTs","executionInfo":{"status":"ok","timestamp":1654313634412,"user_tz":-540,"elapsed":280,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}},"outputId":"be17da3f-1a06-4172-fc61-614ca311ee2d"},"outputs":[{"output_type":"execute_result","data":{"text/plain":["                                                  title    channel_name  \\\n","0     한 번도 안본 사람은 있어도, 한 번만 본 사람은 없다는 레전드 꿀잼 드라마 [뷰티...              고몽   \n","1               240,300원→37,900원 (84%할인) 🎁 뷰마 찐템 박스 공개!           뷰티마우스   \n","2     요즘 잘 나가는 프로필 메이크업은 이렇게 합니다!ㅣ연예인 프로필 메이크업ㅣ역대급 콜...   옥뷰티 OK Beauty   \n","3                톱배우가 한 달에 한 번 잠적하는 이유 | 뷰티인사이드 1~4회 요약    DRAMA Voyage   \n","4     sub) 청담동 메이크업샵 추천템 그대로 구매해봄 2탄..! (지속력 좋은 파운데이...   뷰티숨BEAUTYSOOM   \n","...                                                 ...             ...   \n","5976                                             굿바이 썸머  YouTube Movies   \n","5977                                      세수하는 영상ㅋㅋㅋㅋㅋㅋ            금빛TV   \n","5978                                      내 남자친구를 소개합니다  YouTube Movies   \n","5979                         이너뷰티 - 김혜수의 이너뷰티 피부 전용 영양제             최소이   \n","5980  #CHOKO#PGLU#BOY#DKH 2 PRTYY CHIDAI TRE BHEN CH...    TABAHI QUEEN   \n","\n","         views       subs          publish_time                channel_id  \\\n","0     804394.0  1960000.0  2022-05-21T01:00:10Z  UCpcft4FJXgUjnxWoQYsl7Ug   \n","1     199959.0   352000.0  2022-05-17T10:56:39Z  UCE7q5DzYcRYWObUNIpdO70A   \n","2      61394.0   159000.0  2022-05-18T09:06:01Z  UCnHpEWXz2Ehirkc3wuFfUfw   \n","3       7568.0   250000.0  2022-05-12T03:00:04Z  UCKuwp52MjSk-zeFRpchSheg   \n","4     193907.0   133000.0  2022-05-04T13:22:29Z  UCLyq1gz11P-IYFmP093JaAw   \n","...        ...        ...                   ...                       ...   \n","5976       NaN        NaN  2020-02-23T04:18:00Z  UCWgilkDRmQKvX9hySwRkjoQ   \n","5977      31.0      130.0  2020-03-26T13:22:53Z  UCmQwApQl8vOOQqtUY5ywyIg   \n","5978       NaN        NaN  2020-03-12T15:00:02Z  UCozrG6ayTBLR9jdiEZSJc3Q   \n","5979       7.0        0.0  2020-03-25T06:06:23Z  UCi9QdIZK_-V7ta2nhi5OpdQ   \n","5980      51.0       11.0  2020-02-08T16:08:53Z  UCSwqFYidqQscXiBblTfPWqw   \n","\n","                                         video_id  \n","0     https://www.youtube.com/watch?v=pMUKLfMzp8g  \n","1     https://www.youtube.com/watch?v=P4N-Nit1z4Q  \n","2     https://www.youtube.com/watch?v=zoKQabWIRjY  \n","3     https://www.youtube.com/watch?v=HLRKjsf_1mc  \n","4     https://www.youtube.com/watch?v=m1HRv6Drh-Q  \n","...                                           ...  \n","5976  https://www.youtube.com/watch?v=-It1tIGOyeU  \n","5977  https://www.youtube.com/watch?v=-VB10XHx1ng  \n","5978  https://www.youtube.com/watch?v=-RgNz52ahd4  \n","5979  https://www.youtube.com/watch?v=DGkXucm36a4  \n","5980  https://www.youtube.com/watch?v=-lTGAyO4Kso  \n","\n","[5981 rows x 7 columns]"],"text/html":["\n","  <div id=\"df-3ce15dd7-c5e9-4f1c-b757-cc89310359f4\">\n","    <div class=\"colab-df-container\">\n","      <div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>channel_name</th>\n","      <th>views</th>\n","      <th>subs</th>\n","      <th>publish_time</th>\n","      <th>channel_id</th>\n","      <th>video_id</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>한 번도 안본 사람은 있어도, 한 번만 본 사람은 없다는 레전드 꿀잼 드라마 [뷰티...</td>\n","      <td>고몽</td>\n","      <td>804394.0</td>\n","      <td>1960000.0</td>\n","      <td>2022-05-21T01:00:10Z</td>\n","      <td>UCpcft4FJXgUjnxWoQYsl7Ug</td>\n","      <td>https://www.youtube.com/watch?v=pMUKLfMzp8g</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>240,300원→37,900원 (84%할인) 🎁 뷰마 찐템 박스 공개!</td>\n","      <td>뷰티마우스</td>\n","      <td>199959.0</td>\n","      <td>352000.0</td>\n","      <td>2022-05-17T10:56:39Z</td>\n","      <td>UCE7q5DzYcRYWObUNIpdO70A</td>\n","      <td>https://www.youtube.com/watch?v=P4N-Nit1z4Q</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>요즘 잘 나가는 프로필 메이크업은 이렇게 합니다!ㅣ연예인 프로필 메이크업ㅣ역대급 콜...</td>\n","      <td>옥뷰티 OK Beauty</td>\n","      <td>61394.0</td>\n","      <td>159000.0</td>\n","      <td>2022-05-18T09:06:01Z</td>\n","      <td>UCnHpEWXz2Ehirkc3wuFfUfw</td>\n","      <td>https://www.youtube.com/watch?v=zoKQabWIRjY</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>톱배우가 한 달에 한 번 잠적하는 이유 | 뷰티인사이드 1~4회 요약</td>\n","      <td>DRAMA Voyage</td>\n","      <td>7568.0</td>\n","      <td>250000.0</td>\n","      <td>2022-05-12T03:00:04Z</td>\n","      <td>UCKuwp52MjSk-zeFRpchSheg</td>\n","      <td>https://www.youtube.com/watch?v=HLRKjsf_1mc</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>sub) 청담동 메이크업샵 추천템 그대로 구매해봄 2탄..! (지속력 좋은 파운데이...</td>\n","      <td>뷰티숨BEAUTYSOOM</td>\n","      <td>193907.0</td>\n","      <td>133000.0</td>\n","      <td>2022-05-04T13:22:29Z</td>\n","      <td>UCLyq1gz11P-IYFmP093JaAw</td>\n","      <td>https://www.youtube.com/watch?v=m1HRv6Drh-Q</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>5976</th>\n","      <td>굿바이 썸머</td>\n","      <td>YouTube Movies</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>2020-02-23T04:18:00Z</td>\n","      <td>UCWgilkDRmQKvX9hySwRkjoQ</td>\n","      <td>https://www.youtube.com/watch?v=-It1tIGOyeU</td>\n","    </tr>\n","    <tr>\n","      <th>5977</th>\n","      <td>세수하는 영상ㅋㅋㅋㅋㅋㅋ</td>\n","      <td>금빛TV</td>\n","      <td>31.0</td>\n","      <td>130.0</td>\n","      <td>2020-03-26T13:22:53Z</td>\n","      <td>UCmQwApQl8vOOQqtUY5ywyIg</td>\n","      <td>https://www.youtube.com/watch?v=-VB10XHx1ng</td>\n","    </tr>\n","    <tr>\n","      <th>5978</th>\n","      <td>내 남자친구를 소개합니다</td>\n","      <td>YouTube Movies</td>\n","      <td>NaN</td>\n","      <td>NaN</td>\n","      <td>2020-03-12T15:00:02Z</td>\n","      <td>UCozrG6ayTBLR9jdiEZSJc3Q</td>\n","      <td>https://www.youtube.com/watch?v=-RgNz52ahd4</td>\n","    </tr>\n","    <tr>\n","      <th>5979</th>\n","      <td>이너뷰티 - 김혜수의 이너뷰티 피부 전용 영양제</td>\n","      <td>최소이</td>\n","      <td>7.0</td>\n","      <td>0.0</td>\n","      <td>2020-03-25T06:06:23Z</td>\n","      <td>UCi9QdIZK_-V7ta2nhi5OpdQ</td>\n","      <td>https://www.youtube.com/watch?v=DGkXucm36a4</td>\n","    </tr>\n","    <tr>\n","      <th>5980</th>\n","      <td>#CHOKO#PGLU#BOY#DKH 2 PRTYY CHIDAI TRE BHEN CH...</td>\n","      <td>TABAHI QUEEN</td>\n","      <td>51.0</td>\n","      <td>11.0</td>\n","      <td>2020-02-08T16:08:53Z</td>\n","      <td>UCSwqFYidqQscXiBblTfPWqw</td>\n","      <td>https://www.youtube.com/watch?v=-lTGAyO4Kso</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>5981 rows × 7 columns</p>\n","</div>\n","      <button class=\"colab-df-convert\" onclick=\"convertToInteractive('df-3ce15dd7-c5e9-4f1c-b757-cc89310359f4')\"\n","              title=\"Convert this dataframe to an interactive table.\"\n","              style=\"display:none;\">\n","        \n","  <svg xmlns=\"http://www.w3.org/2000/svg\" height=\"24px\"viewBox=\"0 0 24 24\"\n","       width=\"24px\">\n","    <path d=\"M0 0h24v24H0V0z\" fill=\"none\"/>\n","    <path d=\"M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z\"/><path d=\"M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z\"/>\n","  </svg>\n","      </button>\n","      \n","  <style>\n","    .colab-df-container {\n","      display:flex;\n","      flex-wrap:wrap;\n","      gap: 12px;\n","    }\n","\n","    .colab-df-convert {\n","      background-color: #E8F0FE;\n","      border: none;\n","      border-radius: 50%;\n","      cursor: pointer;\n","      display: none;\n","      fill: #1967D2;\n","      height: 32px;\n","      padding: 0 0 0 0;\n","      width: 32px;\n","    }\n","\n","    .colab-df-convert:hover {\n","      background-color: #E2EBFA;\n","      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);\n","      fill: #174EA6;\n","    }\n","\n","    [theme=dark] .colab-df-convert {\n","      background-color: #3B4455;\n","      fill: #D2E3FC;\n","    }\n","\n","    [theme=dark] .colab-df-convert:hover {\n","      background-color: #434B5C;\n","      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);\n","      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));\n","      fill: #FFFFFF;\n","    }\n","  </style>\n","\n","      <script>\n","        const buttonEl =\n","          document.querySelector('#df-3ce15dd7-c5e9-4f1c-b757-cc89310359f4 button.colab-df-convert');\n","        buttonEl.style.display =\n","          google.colab.kernel.accessAllowed ? 'block' : 'none';\n","\n","        async function convertToInteractive(key) {\n","          const element = document.querySelector('#df-3ce15dd7-c5e9-4f1c-b757-cc89310359f4');\n","          const dataTable =\n","            await google.colab.kernel.invokeFunction('convertToInteractive',\n","                                                     [key], {});\n","          if (!dataTable) return;\n","\n","          const docLinkHtml = 'Like what you see? Visit the ' +\n","            '<a target=\"_blank\" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'\n","            + ' to learn more about interactive tables.';\n","          element.innerHTML = '';\n","          dataTable['output_type'] = 'display_data';\n","          await google.colab.output.renderOutput(dataTable, element);\n","          const docLink = document.createElement('div');\n","          docLink.innerHTML = docLinkHtml;\n","          element.appendChild(docLink);\n","        }\n","      </script>\n","    </div>\n","  </div>\n","  "]},"metadata":{},"execution_count":10}],"source":["df1"]},{"cell_type":"code","source":["import requests \n","import re"],"metadata":{"id":"0Ls6gMXvyBap","executionInfo":{"status":"ok","timestamp":1654314253554,"user_tz":-540,"elapsed":275,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}}},"execution_count":23,"outputs":[]},{"cell_type":"code","source":["filesInChannel = [\n","\"https://www.youtube.com/watch?v=PYuNBFdwK7k\",\n","\"https://www.youtube.com/watch?v=-Ox9MvottBI\"\n","]\n","\n","def getStats(link):\n","    page = requests.get(link)\n","    likes = re.search(r'\\d*.\\d*.\\d*', page.text)\n","    title = re.search(\"property=\\\"og:title\\\" content=\\\"([^\\n]*)\", page.text)\n","    return (likes, title)\n","\n","\n","for link in filesInChannel:\n","    stats = getStats(link)\n","    print(stats)"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"zF3mG9nc3juH","executionInfo":{"status":"ok","timestamp":1654316016963,"user_tz":-540,"elapsed":779,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}},"outputId":"4300efc6-2109-40bd-ce0e-72c0a2d4b615"},"execution_count":42,"outputs":[{"output_type":"stream","name":"stdout","text":["(<re.Match object; span=(0, 2), match='<!'>, None)\n","(<re.Match object; span=(0, 2), match='<!'>, None)\n"]}]},{"cell_type":"code","source":["def getLikes(link):\n","  page = requests.get(link)\n","  likes = re.search(\"with (\\d*.\\d*.\\d*)\", page.text)\n","  return likes"],"metadata":{"id":"hy5-cX-wxvFg","executionInfo":{"status":"ok","timestamp":1654314558915,"user_tz":-540,"elapsed":278,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}}},"execution_count":29,"outputs":[]},{"cell_type":"code","source":["likes=[]\n","for link in df1['video_id'][0:2]:\n","  likes.append(getLikes(link))\n"],"metadata":{"id":"orpIiVVAyc5v","executionInfo":{"status":"ok","timestamp":1654314561629,"user_tz":-540,"elapsed":817,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}}},"execution_count":30,"outputs":[]},{"cell_type":"code","source":["likes"],"metadata":{"colab":{"base_uri":"https://localhost:8080/"},"id":"Q-9Snx2f1P8I","executionInfo":{"status":"ok","timestamp":1654314568971,"user_tz":-540,"elapsed":291,"user":{"displayName":"김보담(상경대학 응용통계학과)","userId":"17036112245006719168"}},"outputId":"b73a60cf-5fbd-4e7a-9b9b-1e340040b0d9"},"execution_count":31,"outputs":[{"output_type":"execute_result","data":{"text/plain":["[None, None]"]},"metadata":{},"execution_count":31}]},{"cell_type":"code","execution_count":null,"metadata":{"id":"fnTbPOMbwkTt"},"outputs":[],"source":["df_total=pd.concat([df_total,df])"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"6pBowxWEwkTt","outputId":"a6ddf7ae-0e0a-4fef-afa6-3616ef13bfea"},"outputs":[{"data":{"text/html":["<div>\n","<style scoped>\n","    .dataframe tbody tr th:only-of-type {\n","        vertical-align: middle;\n","    }\n","\n","    .dataframe tbody tr th {\n","        vertical-align: top;\n","    }\n","\n","    .dataframe thead th {\n","        text-align: right;\n","    }\n","</style>\n","<table border=\"1\" class=\"dataframe\">\n","  <thead>\n","    <tr style=\"text-align: right;\">\n","      <th></th>\n","      <th>title</th>\n","      <th>channel_name</th>\n","      <th>views</th>\n","      <th>subs</th>\n","      <th>publish_time</th>\n","      <th>channel_id</th>\n","      <th>video_id</th>\n","    </tr>\n","  </thead>\n","  <tbody>\n","    <tr>\n","      <th>0</th>\n","      <td>1달에 10kg가 무조건 빠지는 다이어트 끝판왕 걷기운동 (층간소음X)</td>\n","      <td>에이핏 afit</td>\n","      <td>60540</td>\n","      <td>491000</td>\n","      <td>2022-05-16T09:30:09Z</td>\n","      <td>UCRGZCFuFCwp2D_YKByrqRfw</td>\n","      <td>_8039lrjETg</td>\n","    </tr>\n","    <tr>\n","      <th>1</th>\n","      <td>(스쿼트, 런지없는) 20분 올인원 유산소 운동 - 관절에 무리없이 체지방 불태우기!</td>\n","      <td>빵느</td>\n","      <td>5682</td>\n","      <td>313000</td>\n","      <td>2022-05-23T10:00:16Z</td>\n","      <td>UCRrZ5RYIalHLiHq5ftzxM6A</td>\n","      <td>J8vNP86Ql98</td>\n","    </tr>\n","    <tr>\n","      <th>2</th>\n","      <td>1시간 운동한 것만큼 칼로리 제대로 불태우는 땀폭발 10분 전신 유산소 운동ㅣ홈트 ...</td>\n","      <td>에이핏 afit</td>\n","      <td>61373</td>\n","      <td>491000</td>\n","      <td>2022-05-09T09:30:09Z</td>\n","      <td>UCRGZCFuFCwp2D_YKByrqRfw</td>\n","      <td>xHes9dxefDs</td>\n","    </tr>\n","    <tr>\n","      <th>3</th>\n","      <td>밥먹고 운동만하는 브이로그</td>\n","      <td>말왕TV</td>\n","      <td>195105</td>\n","      <td>976000</td>\n","      <td>2022-05-20T09:00:09Z</td>\n","      <td>UCYJDUekoQz0-bo8al1diLWQ</td>\n","      <td>3FrBYVAdtwA</td>\n","    </tr>\n","    <tr>\n","      <th>4</th>\n","      <td>무조건 뱃살빠지는 타바타 운동 (feat.허리라인 줄어드는 뱃살 운동)</td>\n","      <td>엄마TV</td>\n","      <td>4687</td>\n","      <td>399000</td>\n","      <td>2022-05-23T10:00:11Z</td>\n","      <td>UC_WKnI3SagAHx3Z0ApjTo3Q</td>\n","      <td>MnWoC_IK4mA</td>\n","    </tr>\n","    <tr>\n","      <th>...</th>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","      <td>...</td>\n","    </tr>\n","    <tr>\n","      <th>354</th>\n","      <td>놀이터에서 친구들과 술래잡기 해피tv</td>\n","      <td>해피happy여현호Yhh</td>\n","      <td>63</td>\n","      <td>98</td>\n","      <td>2020-03-20T12:16:51Z</td>\n","      <td>UCinNcdaiKGN78FVkK7HAvZw</td>\n","      <td>1IYC7wxaoNs</td>\n","    </tr>\n","    <tr>\n","      <th>355</th>\n","      <td>혈액을 맑게 하는 방법 5부[피를 맑게 혈관청소, 하늘마을 힐링센터]</td>\n","      <td>하늘마을 힐링센터 TV</td>\n","      <td>21975</td>\n","      <td>142000</td>\n","      <td>2020-02-13T11:46:13Z</td>\n","      <td>UCAjG6hYW3bTQIhNMXRZrrUg</td>\n","      <td>mwFDZezQU9I</td>\n","    </tr>\n","    <tr>\n","      <th>356</th>\n","      <td>화순주차사건 리뷰 2편!!  보배드림 카라반여행의 완벽 정리! 왜 화순부부는 카라반...</td>\n","      <td>제이TV</td>\n","      <td>79584</td>\n","      <td>15400</td>\n","      <td>2020-02-12T14:28:15Z</td>\n","      <td>UCZcKfUzxlBXNyAX_mVRTTlQ</td>\n","      <td>EXiRMMdJkmg</td>\n","    </tr>\n","    <tr>\n","      <th>357</th>\n","      <td>토르: 오리지날 전설</td>\n","      <td>YouTube Movies</td>\n","      <td>None</td>\n","      <td>None</td>\n","      <td>2020-02-14T19:14:06Z</td>\n","      <td>UCEOCFqdB4op38qt1IfuJXcQ</td>\n","      <td>ITXOzoZOYUA</td>\n","    </tr>\n","    <tr>\n","      <th>358</th>\n","      <td>아줌마 브이로그 vlog, 주부의 일상,네일아트  Housewife&amp;#39;s da...</td>\n","      <td>양아치TV AUNT TV</td>\n","      <td>93573</td>\n","      <td>102000</td>\n","      <td>2020-02-06T11:17:11Z</td>\n","      <td>UCkko-Eorw_H_fNxkG2Zbjog</td>\n","      <td>OpoISzaLbQQ</td>\n","    </tr>\n","  </tbody>\n","</table>\n","<p>6229 rows × 7 columns</p>\n","</div>"],"text/plain":["                                                 title    channel_name  \\\n","0              1달에 10kg가 무조건 빠지는 다이어트 끝판왕 걷기운동 (층간소음X)        에이핏 afit   \n","1      (스쿼트, 런지없는) 20분 올인원 유산소 운동 - 관절에 무리없이 체지방 불태우기!              빵느   \n","2    1시간 운동한 것만큼 칼로리 제대로 불태우는 땀폭발 10분 전신 유산소 운동ㅣ홈트 ...        에이핏 afit   \n","3                                       밥먹고 운동만하는 브이로그            말왕TV   \n","4              무조건 뱃살빠지는 타바타 운동 (feat.허리라인 줄어드는 뱃살 운동)            엄마TV   \n","..                                                 ...             ...   \n","354                               놀이터에서 친구들과 술래잡기 해피tv   해피happy여현호Yhh   \n","355             혈액을 맑게 하는 방법 5부[피를 맑게 혈관청소, 하늘마을 힐링센터]    하늘마을 힐링센터 TV   \n","356  화순주차사건 리뷰 2편!!  보배드림 카라반여행의 완벽 정리! 왜 화순부부는 카라반...            제이TV   \n","357                                        토르: 오리지날 전설  YouTube Movies   \n","358  아줌마 브이로그 vlog, 주부의 일상,네일아트  Housewife&#39;s da...   양아치TV AUNT TV   \n","\n","      views    subs          publish_time                channel_id  \\\n","0     60540  491000  2022-05-16T09:30:09Z  UCRGZCFuFCwp2D_YKByrqRfw   \n","1      5682  313000  2022-05-23T10:00:16Z  UCRrZ5RYIalHLiHq5ftzxM6A   \n","2     61373  491000  2022-05-09T09:30:09Z  UCRGZCFuFCwp2D_YKByrqRfw   \n","3    195105  976000  2022-05-20T09:00:09Z  UCYJDUekoQz0-bo8al1diLWQ   \n","4      4687  399000  2022-05-23T10:00:11Z  UC_WKnI3SagAHx3Z0ApjTo3Q   \n","..      ...     ...                   ...                       ...   \n","354      63      98  2020-03-20T12:16:51Z  UCinNcdaiKGN78FVkK7HAvZw   \n","355   21975  142000  2020-02-13T11:46:13Z  UCAjG6hYW3bTQIhNMXRZrrUg   \n","356   79584   15400  2020-02-12T14:28:15Z  UCZcKfUzxlBXNyAX_mVRTTlQ   \n","357    None    None  2020-02-14T19:14:06Z  UCEOCFqdB4op38qt1IfuJXcQ   \n","358   93573  102000  2020-02-06T11:17:11Z  UCkko-Eorw_H_fNxkG2Zbjog   \n","\n","        video_id  \n","0    _8039lrjETg  \n","1    J8vNP86Ql98  \n","2    xHes9dxefDs  \n","3    3FrBYVAdtwA  \n","4    MnWoC_IK4mA  \n","..           ...  \n","354  1IYC7wxaoNs  \n","355  mwFDZezQU9I  \n","356  EXiRMMdJkmg  \n","357  ITXOzoZOYUA  \n","358  OpoISzaLbQQ  \n","\n","[6229 rows x 7 columns]"]},"execution_count":907,"metadata":{},"output_type":"execute_result"}],"source":["df_total"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"d6A1babzwkTu"},"outputs":[],"source":["df_total.to_csv('undong_data_moeum.csv', index = False)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"_lhhPDOTwkTv","outputId":"74dc434d-2a99-44e8-e732-ed6e1e21aa2a"},"outputs":[{"data":{"text/plain":["4732"]},"execution_count":601,"metadata":{},"output_type":"execute_result"}],"source":[""]},{"cell_type":"code","execution_count":null,"metadata":{"id":"-bPWNIrpwkTv"},"outputs":[],"source":["df.to_csv('mukbang_data.csv', index = False)"]},{"cell_type":"code","execution_count":null,"metadata":{"id":"d5pipQVTwkTw"},"outputs":[],"source":["df_total=df\n"]}],"metadata":{"kernelspec":{"display_name":"Python 3","language":"python","name":"python3"},"language_info":{"codemirror_mode":{"name":"ipython","version":3},"file_extension":".py","mimetype":"text/x-python","name":"python","nbconvert_exporter":"python","pygments_lexer":"ipython3","version":"3.8.5"},"colab":{"name":"crawling ","provenance":[]}},"nbformat":4,"nbformat_minor":0}